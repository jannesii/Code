<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}{% endblock %}</title>

  <!-- Favicon -->
  <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" sizes="any">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon-32x32.png') }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon-16x16.png') }}">
  <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='apple-touch-icon.png') }}">

  <!-- Global styles -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/navbar.css') }}">

  <!-- Page-specific styles -->
  {% block styles %}{% endblock %}
</head>
<body>
  {% block nav %}
    {% include 'navbar.html' %}
  {% endblock %}

  <div class="content">
    {% block content %}{% endblock %}
  </div>

  <!-- Page-specific scripts -->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="{{ url_for('static', filename='js/socket.io.js') }}"></script>
  <script src="{{ url_for('static', filename='js/navbar.js') }}"></script>
  
  {# Component-registered assets: ensure component CSS/JS load automatically #}
  {# Note: assets registered from content blocks render here at end of body. #}
  {% if assets and assets.styles %}
    {% for href in assets.styles %}
      <link rel="stylesheet" href="{{ href }}">
    {% endfor %}
  {% endif %}
  {% if assets and assets.scripts %}
    {% for src in assets.scripts %}
      <script src="{{ src }}"></script>
    {% endfor %}
  {% endif %}
  {% block scripts %}
  {% endblock %}
</body>
</html>
